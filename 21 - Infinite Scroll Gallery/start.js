(() => {
  const images = [
    "1562886812-41775a01195d",
    "1586208224633-e095684bedb8",
    "1586188389308-085f64e3ffd2",
    "1586184656888-85995bf7caaa",
    "1576174464184-fb78fe882bfd",
    "1586042139429-7af09f803b6b",
    "1586281407543-001b6585b047",
    "1586183613775-4dc5050dc955",
    "1586279082155-8fba5a8c2c48",
    "1586232903370-8bca5d0e3c50",
    "1558979158-65a1eaa08691",
    "1586234514278-c75dff7b7c25",
    "1586229267145-141ab0504808",
    "1586274983200-fdf682a5093a",
    "1586233519915-f9c354a2a4a7",
    "1586252251010-0af2b935b22b",
    "1586272778284-3bb8f892c97c",
    "1584665367045-78c04af02eaf",
    "1586133692918-cde4ebf7b5b3",
    "1586116458922-15271b7a49cd",
    "1562887189-e5d078343de4",
    "1586076838186-7ed8d762940d",
    "1586114863157-2b148498f90b",
    "1586240701436-0aa4df9d0d66",
    "1586234236373-86663812a570",
    "1586199175022-5cbeeb57020f",
    "1586196576821-1780dc705c13",
    "1586225686278-e21593bcab61",
    "1586208897767-c5ae40b34462",
    "1586193535343-370146e6ee1f",
    "1558981001-1995369a39cd",
    "1586194757644-5e29ec219533",
    "1586192890319-858fcc72e1b3",
    "1586182740998-cc769e0ac829",
    "1586089767946-73887b2eb438",
    "1568913898198-d67d2de109fe",
    "1586244897821-c06ba29d5b5d",
    "1586208224637-da9790ae7f4d",
    "1586184901238-49c38fbddec1",
    "1586044105974-e469dd9f6684",
    "1562887009-7924341c5cbc",
    "1586204947495-462c218f5f05",
    "1586252287870-4e6c75f7a50b",
    "1586272778341-729f9af5e0a1",
    "1584216302821-1ff6f4f2beb8",
    "1586116205227-be4948b047aa",
    "1586115321959-f89577627613",
    "1586199175084-bdd5724a70b9",
    "1586196576988-85a5b369a979",
    "1586195831800-24f14c992cea",
    "1558981033-f5e2ddd9c57e",
    "1586194475151-891683641478",
    "1586191720648-e49f7eeb872e",
    "1586192889836-2a83cb685e1c",
    "1586191582056-ffebbc7c17e4",
    "1586182763540-d0e6c414c791",
    "1586254574632-55e4aaea7793",
    "1568913888230-97c2f2715c03",
    "1586110094351-a500fce6598c",
    "1586244897823-988c9ad48c7a",
    "1558981001-792f6c0d5068",
    "1586191721714-bfa8bd36fd07",
    "1586184013696-01c5a9b2bcd7",
    "1586206079585-00f0bc6d66d0",
    "1586191582109-7e0c712e9460",
    "1586259470495-29b40192e65b",
    "1586182707452-e16284f0e550",
    "1586216767413-5b7da3f7e7f2",
    "1586213999159-517c300c409b",
    "1586254626726-22f20bd7102e",
    "1562887189-7c2ae6ace6dc",
    "1576011615312-119c2ec98c86",
    "1586202690666-e1f32e218afe",
    "1586109803336-c02797ffdcc0",
    "1586244897633-950b3d948dd3",
    "1586208224627-976604721542",
    "1585927272032-bab105cac478",
    "1586188389405-bd05314a47ac",
    "1586189969862-2b8dadb1e0c1",
    "1586269744801-a71a8e5024b7",
    "1558980664-1db506751c6c",
    "1586184594877-8b9d6e391f3e",
    "1586184992877-9d0b9b7468eb",
    "1586186202074-f67562d15591",
    "1586186243953-b93e9759bc1b",
    "1586186017315-56c671094ef0",
    "1586042413097-55604a97e5ef",
    "1581418413489-245efc3cfe37",
    "1586178132225-99f5d5277f1e",
    "1586233828537-180d5eee0e86",
    "1562886889-52933f35430b",
    "1586233828537-180d5eee0e86",
    "1586232880922-25f9b9695ecb",
    "1586229947003-0c6af086307b",
    "1586234709312-4145ef4517db",
    "1583521808746-13b2b268421f",
    "1586274760106-f6278ce3dc9a",
    "1586204947499-45a8f1503da9",
    "1586271504135-777275f70259",
    "1586160368566-0ed6c992739b",
    "1558980664-769d59546b3d",
    "1584633646238-e71a77ad05a0",
    "1586272778445-ccec18ea579c",
    "1585491270115-20cc80fe5526",
    "1586045557622-3f3917118043",
    "1586265842513-08e427190880",
    "1586266560973-7288bb128ade",
    "1586195831572-9608b4f48230",
    "1586077427825-15dca6b44dba",
    "1586244074568-24bd29e524d4",
    "1562887284-db69d5836c96",
    "1585862485091-8f45524e8336",
    "1586075234324-69fc5e208e5b",
    "1586133692668-1e1d2170c03c",
    "1586243287039-23f4c8e2e7ab",
    "1586227180855-c6fc42170e2f",
    "1586210819111-29c763c5292a",
    "1586116458610-06bf748676bc",
    "1586119022447-e835aefdaedc",
    "1586115321950-0f1d09f668a0",
  ].map(
    (id) =>
      `https://images.unsplash.com/photo-${id}?q=75&fm=jpg&w=${
        Math.random() * 250 + 250
      }&fit=max`
  );

  let page = 0;
  async function displayImages() {
    const loaderElem = document.querySelector(".loader");
    loaderElem.classList.add("visible");

    await new Promise((resolve) => setTimeout(() => resolve(), 500));

    images.slice(page * 10, page * 10 + 10).forEach((imageUrl) => {
      const imgElem = document.createElement("img");
      imgElem.src = imageUrl;

      const galleryElem = document.querySelector(".gallery");
      galleryElem.appendChild(imgElem);
    });

    loaderElem.classList.remove("visible");
    page += 1;
  }

  document.addEventListener("scroll", () => {
    const { scrollTop, scrollHeight, clientHeight } = document.documentElement;

    if (scrollTop + clientHeight >= scrollHeight - 10) {
      displayImages();
    }
  });

  displayImages();
})();
